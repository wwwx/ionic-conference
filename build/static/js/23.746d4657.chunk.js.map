{"version":3,"sources":["service/base-service.ts","pages/home/Profile.tsx","../../modules/BrowserRouter.js","../../modules/HashRouter.js","../../modules/utils/locationUtils.js","../../modules/Link.js","../../modules/NavLink.js"],"names":["service","axios","create","timeout","baseURL","interceptors","response","use","error","Promise","reject","Error","ProfileContent","trail","useMemo","styles","map","_","i","push","animationDelay","useSWR","fetcher","get","data","profile","className","style","src","avatar","alt","staff","department","shape","fill","size","interface","placeholder","value","to","color","inviteNum","summaryDraftNum","messageNum","ProfileWrap","styled","div","Profile","React","Component","resolveToLocation","currentLocation","normalizeToLocation","createLocation","forwardRefShim","C","forwardRef","LinkAnchor","innerRef","navigate","onClick","rest","target","props","event","ex","isModifiedEvent","forwardedRef","Link","component","replace","RouterContext","context","history","location","href","method","ariaCurrent","activeClassName","activeStyle","classNameProp","exact","isActiveProp","isActive","locationProp","sensitive","strict","styleProp","toLocation","path","escapedPath","match","matchPath","classnames","joinClassnames"],"mappings":"6HAAA,aAMMA,EANN,OAMgBC,EAAMC,OAJH,CACjBC,QAAS,IACTC,QAAS,MAGXJ,EAAQK,aAAaC,SAASC,KAC5B,SAACD,GACC,OAAOA,KAET,SAACE,GACC,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,OAGrBR,O,2PCRf,SAASY,IACP,IAAMC,EAAQC,mBAAQ,WACpB,IAAMC,EAAsC,GAQ5C,MAPA,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGC,KAAI,SAACC,EAAWC,GAIjC,OAHAH,EAAOI,KAAK,CACVC,eAAe,GAAD,OAAS,IAAJF,EAAL,QAET,QAGFH,IACN,IAXqB,EAaAM,YAAO,eAAgBC,IAAQC,KAA/CC,EAbgB,EAahBA,KAER,GAfwB,EAaVhB,MAEH,OAAO,+CAClB,IAAKgB,EAAM,OAAO,2CAElB,IAAMC,EAAUD,EAAKA,KAErB,OACE,oCACE,yBAAKE,UAAU,4DACb,kBAAC,IAAD,CAAWA,UAAU,WAAWC,MAAOd,EAAM,IAC3C,yBAAKe,IAAKH,EAAQI,OAAQC,IAAI,MAEhC,yBAAKJ,UAAU,4BAA4BC,MAAOd,EAAM,IACtD,wBAAIa,UAAU,sCAAsCD,EAAQM,OAC5D,uBAAGL,UAAU,+BAA+BD,EAAQO,aAGtD,kBAAC,IAAD,CAAWN,UAAU,gCAAgCC,MAAOd,EAAM,GAAIoB,MAAM,QAAQC,KAAK,UAAUC,KAAK,SACtG,kBAAC,IAAD,CAEEC,UAAU,UACVC,YAAY,aAGZV,MAAO,CAAE,kBAAmB,EAAG,gBAAiB,IAEhD,kBAAC,IAAD,CAAiBW,MAAM,OAAvB,OACA,kBAAC,IAAD,CAAiBA,MAAM,UAAvB,UACA,kBAAC,IAAD,CAAiBA,MAAM,UAAvB,UACA,kBAAC,IAAD,CAAiBA,MAAM,UAAvB,UACA,kBAAC,IAAD,CAAiBA,MAAM,SAAvB,YAIN,yBAAKZ,UAAU,+DACb,kBAAC,IAAD,CAAMA,UAAU,WAAWC,MAAOd,EAAM,GAAI0B,GAAG,gBAC7C,kBAAC,IAAD,CAASC,MAAM,UAAUd,UAAU,WAChCD,EAAQgB,WAEX,uBAAGf,UAAU,0BAAb,6BAGF,kBAAC,IAAD,CAAMA,UAAU,WAAWC,MAAOd,EAAM,GAAI0B,GAAG,mBAC7C,kBAAC,IAAD,CAASC,MAAM,UAAUd,UAAU,WAChCD,EAAQiB,iBAEX,uBAAGhB,UAAU,0BAAb,mCAGF,kBAAC,IAAD,CAAMA,UAAU,WAAWC,MAAOd,EAAM,GAAI0B,GAAG,KAC7C,kBAAC,IAAD,CAASC,MAAM,UAAUd,UAAU,WAChCD,EAAQkB,YAEX,uBAAGjB,UAAU,0BAAb,+BAOV,IAAMkB,EAAcC,IAAOC,IAAV,KAmBFC,UAZW,WACxB,OACE,kBAACH,EAAD,CAAalB,UAAU,iBACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAACd,EAAD,W,8ICpFkBoC,IAAMC,UCATD,IAAMC,UCPxB,IAAMC,EAAoB,SAACX,EAAIY,G,MACtB,oBAAPZ,EAAoBA,EAA3B,GAD+B,GAGpBa,EAAsB,SAACb,EAAIY,G,MACjB,kBAAPZ,EACVc,YAAed,EAAI,KAAM,KADtB,GAAP,GCIIe,EAAiB,SAAAC,G,OAAC,GAClBC,EAAeR,IAAfQ,WACN,qBAAWA,IACTA,KAOF,IAAMC,EAAaD,GACjB,c,IAEIE,EAMC,EANDA,SACAC,EAKC,EALDA,SACAC,EAIC,EAJDA,QACGC,EAGF,iDACKC,EAAWD,EADhB,OAGCE,EAAQ,OAAH,IAAG,CAAH,MAEPH,QAAS,SAAAI,G,IAEL,GAAaJ,KACb,MAAOK,G,MACPD,mBACA,EAICA,EAAD,sBACAA,UACC,GAFD,UAEYF,GA7BtB,SAAyBE,G,SACbA,WAAiBA,EAAjBA,QAAiCA,EAAjCA,SAAkDA,EAA5D,UA6BSE,CAJH,KAMEF,mBACAL,Q,OAOJI,MADET,IAAJ,GACca,GAEZJ,EAIK,sBAAP,MAWJ,IAAMK,EAAOZ,GACX,c,QAEIa,iBAOC,MAPWZ,EAOX,EANDa,EAMC,EANDA,QACA/B,EAKC,EALDA,GACAmB,EAIC,EAJDA,SACGG,EAGF,uD,OAED,kBAACU,IAAD,eACG,SAAAC,GACC,mB,IAEQC,EAAYD,EAHV,QAKJE,EAAWtB,EACfF,EAAkBX,EAAIiC,EADY,UAElCA,EAFF,UAKMG,EAAOD,EAAWD,aAAH,GAArB,GACMV,EAAQ,OAAH,IAAG,CAAH,MAETY,KAFS,EAGThB,SAHS,W,IAIDe,EAAWxB,EAAkBX,EAAIiC,EAAvC,WACeF,EAAUG,EAAH,QAAqBA,EAA3C,MAEAG,M,OAKAtB,IAAJ,EACES,MAAYI,GAAZJ,EAEAA,aAGKf,oBAAP,SCxGJM,EAAiB,SAAAC,G,OAAC,GAClBC,EAAeR,IAAfQ,WACN,qBAAW,IACTA,KAUcA,GACd,c,QAEI,gBAAgBqB,OAef,MAf6B,OAe7B,E,IAdDC,uBAcC,MAdiB,SAcjB,EAbDC,EAaC,EAbDA,YACWC,EAYV,EAZDtD,UACAuD,EAWC,EAXDA,MACUC,EAUT,EAVDC,SACUC,EAST,EATDV,SACAW,EAQC,EARDA,UACAC,EAOC,EAPDA,OACOC,EAMN,EAND5D,MACAY,EAKC,EALDA,GACAmB,EAIC,EAJDA,SACGG,EAGF,uJ,OAED,kBAACU,IAAD,eACG,SAAAC,GACC,mB,IAEMrB,EAAkBiC,GAAgBZ,EAAxC,SACMgB,EAAapC,EACjBF,EAAkBX,EADkB,GAAtC,GAIkBkD,EAASD,EARjB,SAUJE,EACJD,GAAQA,sCADV,QAGME,EAAQD,EACVE,YAAUzC,EAAD,SAA2B,CAClCsC,KADkC,EAElCR,MAFkC,EAGlCI,UAHkC,EAIlCC,WALN,KAQMH,KAAcD,EAChBA,EAAaS,EADe,GAAhC,GAIMjE,EAAYyD,EArD5B,W,2BAA2BU,EAAY,yBAAZA,EAAY,gB,OAC9BA,EAAA,QAAkB,SAAA3E,G,OAAC,KAAnB,KAAP,KAqDY4E,CAAed,EADO,GAA1B,EAGMrD,EAAQwD,EAAW,OAAH,IAAG,CAAH,WAAtB,EAEMpB,EAAQ,OAAH,IAAG,CAAH,C,eACQoB,GAAD,GADP,KAETzD,UAFS,EAGTC,MAHS,EAITY,GAAIiD,GAlCI,G,OAuCNlC,IAAJ,EACES,MAAYI,GAAZJ,EAEAA,aAGK,oBAAP","file":"static/js/23.746d4657.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseConfig = {\n  timeout: 10e3,\n  baseURL: '/',\n};\nconst service = axios.create(baseConfig);\nservice.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    return Promise.reject(new Error(error));\n  }\n);\nexport default service;\n","import { IonAvatar, IonButton, IonCard, IonCardContent, IonSelect, IonSelectOption, IonText } from '@ionic/react';\nimport React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport useSWR from 'swr';\nimport fetcher from '../../service/base-service';\n\nfunction ProfileContent() {\n  const trail = useMemo(() => {\n    const styles: { [key: string]: string }[] = [];\n    [0, 0, 0, 0, 0, 0].map((_: number, i: number) => {\n      styles.push({\n        animationDelay: `${i * 100}ms`,\n      });\n      return null;\n    });\n\n    return styles;\n  }, []);\n\n  const { data, error } = useSWR('/api/profile', fetcher.get);\n\n  if (error) return <div>failed to load</div>;\n  if (!data) return <div>loading...</div>;\n\n  const profile = data.data;\n\n  return (\n    <>\n      <div className=\"block1 d-flex align-items-center justify-content-between\">\n        <IonAvatar className=\"fadeInUp\" style={trail[0]}>\n          <img src={profile.avatar} alt=\"\" />\n        </IonAvatar>\n        <div className=\"ml-3 flex-grow-1 fadeInUp\" style={trail[1]}>\n          <h3 className=\"font-18 font-weight-bold color-111\">{profile.staff}</h3>\n          <p className=\"mt-1 mb-0 color-999 font-12\">{profile.department}</p>\n        </div>\n\n        <IonButton className=\"status-select-button fadeInUp\" style={trail[2]} shape=\"round\" fill=\"outline\" size=\"small\">\n          <IonSelect\n            // interfaceOptions={customActionSheetOptions}\n            interface=\"popover\"\n            placeholder=\"Select One\"\n            // onIonChange={e => setColor(e.detail.value)}\n            // value={color}\n            style={{ '--padding-start': 0, '--padding-end': 0 }}\n          >\n            <IonSelectOption value=\"red\">Red</IonSelectOption>\n            <IonSelectOption value=\"purple\">Purple</IonSelectOption>\n            <IonSelectOption value=\"yellow\">Yellow</IonSelectOption>\n            <IonSelectOption value=\"orange\">Orange</IonSelectOption>\n            <IonSelectOption value=\"green\">Green</IonSelectOption>\n          </IonSelect>\n        </IonButton>\n      </div>\n      <div className=\"block2 d-flex justify-content-between text-center px-2 mt-4\">\n        <Link className=\"fadeInUp\" style={trail[3]} to=\"/mine/invite\">\n          <IonText color=\"primary\" className=\"font-21\">\n            {profile.inviteNum}\n          </IonText>\n          <p className=\"color-666 font-12 mt-1\">会议邀请</p>\n        </Link>\n\n        <Link className=\"fadeInUp\" style={trail[4]} to=\"/record/publish\">\n          <IonText color=\"primary\" className=\"font-21\">\n            {profile.summaryDraftNum}\n          </IonText>\n          <p className=\"color-666 font-12 mt-1\">待发布纪要</p>\n        </Link>\n\n        <Link className=\"fadeInUp\" style={trail[5]} to=\"/\">\n          <IonText color=\"primary\" className=\"font-21\">\n            {profile.messageNum}\n          </IonText>\n          <p className=\"color-666 font-12 mt-1\">最新消息</p>\n        </Link>\n      </div>\n    </>\n  );\n}\n\nconst ProfileWrap = styled.div`\n  min-height: 160px;\n  ion-card-content {\n    height: 160px;\n  }\n`;\n\nconst Profile: React.FC = () => {\n  return (\n    <ProfileWrap className=\"mt-5 fadeInUp\">\n      <IonCard>\n        <IonCardContent>\n          <ProfileContent />\n        </IonCardContent>\n      </IonCard>\n    </ProfileWrap>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\nclass BrowserRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  BrowserRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    forceRefresh: PropTypes.bool,\n    getUserConfirmation: PropTypes.func,\n    keyLength: PropTypes.number\n  };\n\n  BrowserRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<BrowserRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\"\n    );\n  };\n}\n\nexport default BrowserRouter;\n","import React from \"react\";\nimport { Router } from \"react-router\";\nimport { createHashHistory as createHistory } from \"history\";\nimport PropTypes from \"prop-types\";\nimport warning from \"tiny-warning\";\n\n/**\n * The public API for a <Router> that uses window.location.hash.\n */\nclass HashRouter extends React.Component {\n  history = createHistory(this.props);\n\n  render() {\n    return <Router history={this.history} children={this.props.children} />;\n  }\n}\n\nif (__DEV__) {\n  HashRouter.propTypes = {\n    basename: PropTypes.string,\n    children: PropTypes.node,\n    getUserConfirmation: PropTypes.func,\n    hashType: PropTypes.oneOf([\"hashbang\", \"noslash\", \"slash\"])\n  };\n\n  HashRouter.prototype.componentDidMount = function() {\n    warning(\n      !this.props.history,\n      \"<HashRouter> ignores the history prop. To use a custom history, \" +\n        \"use `import { Router }` instead of `import { HashRouter as Router }`.\"\n    );\n  };\n}\n\nexport default HashRouter;\n","import { createLocation } from \"history\";\n\nexport const resolveToLocation = (to, currentLocation) =>\n  typeof to === \"function\" ? to(currentLocation) : to;\n\nexport const normalizeToLocation = (to, currentLocation) => {\n  return typeof to === \"string\"\n    ? createLocation(to, null, null, currentLocation)\n    : to;\n};\n","import React from \"react\";\nimport { __RouterContext as RouterContext } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nconst LinkAnchor = forwardRef(\n  (\n    {\n      innerRef, // TODO: deprecate\n      navigate,\n      onClick,\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    const { target } = rest;\n\n    let props = {\n      ...rest,\n      onClick: event => {\n        try {\n          if (onClick) onClick(event);\n        } catch (ex) {\n          event.preventDefault();\n          throw ex;\n        }\n\n        if (\n          !event.defaultPrevented && // onClick prevented default\n          event.button === 0 && // ignore everything but left clicks\n          (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\n          !isModifiedEvent(event) // ignore clicks with modifier keys\n        ) {\n          event.preventDefault();\n          navigate();\n        }\n      }\n    };\n\n    // React 15 compat\n    if (forwardRefShim !== forwardRef) {\n      props.ref = forwardedRef || innerRef;\n    } else {\n      props.ref = innerRef;\n    }\n\n    /* eslint-disable-next-line jsx-a11y/anchor-has-content */\n    return <a {...props} />;\n  }\n);\n\nif (__DEV__) {\n  LinkAnchor.displayName = \"LinkAnchor\";\n}\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nconst Link = forwardRef(\n  (\n    {\n      component = LinkAnchor,\n      replace,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <Link> outside a <Router>\");\n\n          const { history } = context;\n\n          const location = normalizeToLocation(\n            resolveToLocation(to, context.location),\n            context.location\n          );\n\n          const href = location ? history.createHref(location) : \"\";\n          const props = {\n            ...rest,\n            href,\n            navigate() {\n              const location = resolveToLocation(to, context.location);\n              const method = replace ? history.replace : history.push;\n\n              method(location);\n            }\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return React.createElement(component, props);\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  const toType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.object,\n    PropTypes.func\n  ]);\n  const refType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.shape({ current: PropTypes.any })\n  ]);\n\n  Link.displayName = \"Link\";\n\n  Link.propTypes = {\n    innerRef: refType,\n    onClick: PropTypes.func,\n    replace: PropTypes.bool,\n    target: PropTypes.string,\n    to: toType.isRequired\n  };\n}\n\nexport default Link;\n","import React from \"react\";\nimport { __RouterContext as RouterContext, matchPath } from \"react-router\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"tiny-invariant\";\nimport Link from \"./Link.js\";\nimport {\n  resolveToLocation,\n  normalizeToLocation\n} from \"./utils/locationUtils.js\";\n\n// React 15 compat\nconst forwardRefShim = C => C;\nlet { forwardRef } = React;\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = forwardRefShim;\n}\n\nfunction joinClassnames(...classnames) {\n  return classnames.filter(i => i).join(\" \");\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nconst NavLink = forwardRef(\n  (\n    {\n      \"aria-current\": ariaCurrent = \"page\",\n      activeClassName = \"active\",\n      activeStyle,\n      className: classNameProp,\n      exact,\n      isActive: isActiveProp,\n      location: locationProp,\n      sensitive,\n      strict,\n      style: styleProp,\n      to,\n      innerRef, // TODO: deprecate\n      ...rest\n    },\n    forwardedRef\n  ) => {\n    return (\n      <RouterContext.Consumer>\n        {context => {\n          invariant(context, \"You should not use <NavLink> outside a <Router>\");\n\n          const currentLocation = locationProp || context.location;\n          const toLocation = normalizeToLocation(\n            resolveToLocation(to, currentLocation),\n            currentLocation\n          );\n          const { pathname: path } = toLocation;\n          // Regex taken from: https://github.com/pillarjs/path-to-regexp/blob/master/index.js#L202\n          const escapedPath =\n            path && path.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n\n          const match = escapedPath\n            ? matchPath(currentLocation.pathname, {\n                path: escapedPath,\n                exact,\n                sensitive,\n                strict\n              })\n            : null;\n          const isActive = !!(isActiveProp\n            ? isActiveProp(match, currentLocation)\n            : match);\n\n          const className = isActive\n            ? joinClassnames(classNameProp, activeClassName)\n            : classNameProp;\n          const style = isActive ? { ...styleProp, ...activeStyle } : styleProp;\n\n          const props = {\n            \"aria-current\": (isActive && ariaCurrent) || null,\n            className,\n            style,\n            to: toLocation,\n            ...rest\n          };\n\n          // React 15 compat\n          if (forwardRefShim !== forwardRef) {\n            props.ref = forwardedRef || innerRef;\n          } else {\n            props.innerRef = innerRef;\n          }\n\n          return <Link {...props} />;\n        }}\n      </RouterContext.Consumer>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n\n  const ariaCurrentType = PropTypes.oneOf([\n    \"page\",\n    \"step\",\n    \"location\",\n    \"date\",\n    \"time\",\n    \"true\"\n  ]);\n\n  NavLink.propTypes = {\n    ...Link.propTypes,\n    \"aria-current\": ariaCurrentType,\n    activeClassName: PropTypes.string,\n    activeStyle: PropTypes.object,\n    className: PropTypes.string,\n    exact: PropTypes.bool,\n    isActive: PropTypes.func,\n    location: PropTypes.object,\n    sensitive: PropTypes.bool,\n    strict: PropTypes.bool,\n    style: PropTypes.object\n  };\n}\n\nexport default NavLink;\n"],"sourceRoot":""}